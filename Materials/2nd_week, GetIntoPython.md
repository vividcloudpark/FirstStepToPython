# 오늘의 목표

- 파이썬과 친해지기 2 (프로그램 입력과 출력)

  - .py 작성 후 실행하기 (input hello)

- Jupyter notebook 소개 및 실행

- 변수와 자료형에 대한 이해

  - 문자열 자료형

  - 리스트 자료형

  - 딕셔너리 자료형

  - JSON

---

# 파이썬과 친해지기 2 (프로그램 입력과 출력)

지난번까지는 대화형 인터프리터를 통해 실행했지만, 대부분의 경우 파이썬은 .py라는 파일에 작성되어 인터프리터를 통해 실행된다. 

## .py 작성 후 실행하기 (input hello)

다음 코드를 작성해보자.

```python
name = input("당신의 이름은 무엇입니까?")
print(name)
pre_name = '당신의 이름은 '
print(pre_name + name + " 이군요!")
full_sentence = pre_name + name
print(name * 3)
name = input("다시한번 묻습니다. 당신은 누굽니까?  ")
print(name)
print(pre_name + name + "입니까? 말이 다르군요!")
print('bye')
```

input 함수는 사용자에게 입력을 받는 파이썬 내장함수이다. 어떤 값을 입력하든 ‘문자열’ 로 받게된다.

## Jupyter notebook 소개 및 실행

이렇듯, py파일을 통해 우리는 완성본을 실행할 수 있지만 cell 단위로 실행을 할 수 있는 Jupyter notebook을 이용할 수 있다. 이미 Anaconda 패키지에  포함되어있기 때문에 바로 실행할 수 있다.

```terminal
#terminal 실행 후 작업폴더 이동
jupyter notebook
```

오른쪽의 New를 눌러 새로운 노트북 파일을 만든다.

ipython을 통해 실행된다, 무엇인지는 몰라도 된다. 명령어 몇개만 기억하자.

##### **Ctrl** + Enter : 실행

##### **Alt** + Enter : 아래애 줄을 추가하면서 실행

**Esc : 편집모드 진입**

**dd : 삭제**

**mm : 단순 텍스트모드**

**yy : 코드모드**



## 변수와 자료형에 대한 이해

지난번에 살펴본 것 처럼 파이썬에는 여러 형태가 있다. 조금만 더 살펴보자.

### 문자열 자료형

##### 문자열을 표시하는 방법

1과 ‘1’이 다른것 처럼, 우리에게는 같지만 문자열 자료형이 따로 있다. string이라고 불리는 이 자료형, 파이썬에는 “ 나 ‘, 긴 문장을 사용할때는 “”“, ‘’‘ (3개)를 이용해서 만들 수 있다. 문자열 안에 작은따옴표를 포함시키고 싶을때는 “”로 둘러싸고, 큰 따옴표를 둘러쌓고 싶을때는 ‘로 둘러싼다. “”“” \  “”“”(백슬래쉬)를 앞에 문자열 내의 따옴표가 그 자체의 의미로 사용된다. 

```python
name = "박아무개" 
saying_1 = "박아무개는 생각헀습니다, '젠장할,'"
saying_2 = '박아무개는 생각헀습니다, \'젠장할,\''
saying_3 = '''박아무개는 생각헀습니다, '젠장할' '''
>>> print(saying_3)
박아무개는 생각헀습니다, '젠장할'
```

#####  인덱싱과 슬라이싱

오늘 배우는 것 중 가장 중요한것이라고 볼 수 있다. 컴퓨터는 순서를 어떻게 셀까? 0부터 수를 센다.

나중에 리스트에 가면 매우 중요하다.

슬라이싱  = [시작하는 수 : (끝나는 수 +1) :  건너뛰기]

```python
>>> name = "그대의 숨결은 아름다워"
>>> len(name)
12
>>> name[0]
'그'
>>> name[6]
'은'
>>> name[0:6]
'그대의 숨결'
>>> name[-1]
'워'
>>> name[-2]
'다'
>>> name[::-1]
'워다름아 은결숨 의대그'
>>> name[0:13:1]
'그대의 숨결은 아름다워'
>>> name[0:13:2]
'그의숨은아다'
>>> name[0:13:3]
'그 은름'
>>> name[5:13:3]
'결아워'
```

##### 문자열 포맷팅

이전의 예제를 보자.

```python
name = input("당신의 이름은 무엇입니까?")
print(name)
pre_name = '당신의 이름은 '
print(pre_name + name + " 이군요!")
full_sentence = pre_name + name
print(name * 3)
name = input("다시한번 묻습니다. 당신은 누굽니까?  ")
print(name)
print(pre_name + name + "입니까? 말이 다르군요!")
print('bye')
```

뭔가 덜 직관적이지 않는가? 여러 방법이 있지만, 파이썬 3.6이상에서 지원되는 포맷팅만 알고 가도록하자.

```python
name = input("당신의 이름은 무엇입니까?")
print(name)
print(f'당신의 이름은 {name} 이군요!')
```

간단하다. 문자열을 나타내주는 따옴표 앞에 f를 붙여주자. 그리고 원하는 변수를 {} 안에 넣으면 문자열이 출력된다.

##### 중요한 몇가지 문자열 함수들

우리는 크롤링을 할 것인데, 웹의 데이터들은 대부분 문자열이다. 그러므로 문자열을 다루는 중요한 몇가지 함수를 알아보도록 한다.

##### replace()

특정한 문자열을 바꿔준다. 

```python
name = "당신의 이름은 무엇입니까?"
>>> name
'당신의 이름은 무엇입니까?'
>>> name.replace("당신", "너의")
'너의의 이름은 무엇입니까?'
>>> name.replace("당신", "")
'의 이름은 무엇입니까?'
>>> name
'당신의 이름은 무엇입니까?'
>>> name = name.replace("당신", "너의")
>>> name
'너의의 이름은 무엇입니까?'
```

위의 예제에서 보았듯, 초보자가 하기 쉬운 실수는 **함수를 실행한다고 해서 변수가 변하는게 아니다.** 변수에 다시 지정을 해 주어야 함수에 다시 들어간다. replace에서 바꿀 대상을 “”로 지정하면, 문자열이 삭제되는 효과를 가진다. 

##### split()

문자열을 특정한 문자열에 맞춰서 잘라준다. 결과는 후에 배울 리스트라는 형태로 출력된다. 기준되는 문자열은 사라진다.

```python
name = "당신의 이름은 무엇입니까?"
>>> name.split()
['당신의', '이름은', '무엇입니까?']
>>> name.split("이름")
['당신의 ', '은 무엇입니까?']
>>> name.split("  ")
['당신의 이름은 무엇입니까?']
```

##### join()

리스트의 문자열을 다시 붙여준다. 다른 함수들과 다르게 쓰이는 방법이 조금 다르므로 주의해서 보도록 한다.

```python
name = "당신의 이름은 무엇입니까?"
>>> namelist = name.split()
>>> namelist
['당신의', '이름은', '무엇입니까?']
>>> "".join(namelist)
'당신의이름은무엇입니까?'
>>> " ".join(namelist)
'당신의 이름은 무엇입니까?'
```

##### strip()

문자열 양 끝의 공백을 없애준다. 자매품으로 왼쪽의 공백을 없애는 lstrip()과 rstrip()이 있다. 

```python
>>> name = "   당신의 이름은 무엇입니까?  "
>>> name.strip()
'당신의 이름은 무엇입니까?'
>>> name.rstrip()
'   당신의 이름은 무엇입니까?'
>>> name.lstrip()
'당신의 이름은 무엇입니까?  '
```



### 리스트 자료형

리스트는 1개 이상의 변수들을 모아놓은 것이라고 볼 수 있다. 정말로 ‘리스트.’ 자료 안에는 모든 변수들이 들어갈수 있다. 심지어 리스트도! []를 사용해서 표현한다.

```python
a = []
a = ['a', 'b', 1, '1', ['교수님', '배고파요', 1, True]]
>>> a
['a', 'b', 1, '1', ['교수님', '배고파요', 1, True]]
```

1개이상이 모여있으므로, 인덱싱이 빛을 발한다.

```python
>>> len(a)
5
>>> a[0]
'a'
>>> a[5] #5라고 해서 5라고 쓰면 안된다 ㅠ_ㅠ 마지막을 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
>>> a[4]
['교수님', '배고파요', 1, True]
>>> a[-1]
['교수님', '배고파요', 1, True]
>>> a[1:4]
['b', 1, '1']
```



### 딕셔너리 자료형

리스트의 경우에는 우리가 특정 값에 대해 접근하려고 하면 순서밖에 이용할 수 없다. 만약 순서가 바뀐다면? 우리는 원하는 것들을 얻을 수 없을것이다. 그래서 ‘사전’이라는 것이 있다. key와 value의 쌍으로 지정된다. {}를 사용해서 표현한다. key를 통해 값에대해 접근이 가능하며, 다중 구조를 가질 수 있다. 당연히, 값에 대한 인덱싱과 슬라이싱도 가능하다. key는 순서를 가지지 않는다.

```python
a = {}
a = {'학생들' : {201431148 : '김글경', 201504424: '박금수'}, '교수님' : ['갓도성', '성준조', '한얼킴']}
>>> a.keys()
dict_keys([201431148, 201504424, '교수님'])
>>> a.values()
dict_values(['김글경', '박금수', ['갓도성', '성준조', '한얼킴']])
>>> a['학생들'][201504424]
'박금수'
>>> a['교수님'][0:2]
['갓도성', '성준조']
```



### JSON 자료형

요즘 가장 ‘핫한’  데이터 자료형은 뭘까? JSON이다. 거의 모든 데이터가 JSON으로 움직인다고 보면 될것이다. Python의 Dict타입과 거의 유사하므로, 똑같이 핸들링하면 된다.

```json
json = {
    "history": [
        {
            "date": "2015-03-11",
            "item": "iPhone"
        },
        {
            "date": "2016-02-23",
            "item": "Monitor"
        }
    ],
    "id": 152352,
    "name": "\uac15\uc9c4\uc218"
}
```

자, 마지막 연습문제. 

1) “\uac15\uc9c4\uc218" 를 결과값으로 출력하기 위해서는 어떻게 해야하나?

2) "Monitor"를 결과값으로 출력하기 위해서는 어떻게 해야하나?

3)[“history”, ‘id’] 를 결과값으로 출력하기 위해서는 어떻게 해야하나? ****절대못품*** Hint: list로 변환하고, 슬라이싱해야합니다.



---

정답 : 

1)json[‘name’]

2)json['history'][1]['item']

3)list(json.keys())[0:2]

# 실습: 서울시 API 이용, 데이터 불러오기,

[bustracker](https://github.com/vividcloudpark/FirstStepToPython/blob/master/Materials/Code/2ndweek%20_usingapi%20Bustracker.py)!

json이 어떻게 활용되고있는지, 그리고 다음주에 배울 분기문과 loop를 볼 수 있습니다.

기대되시나요?

둑흔두근!